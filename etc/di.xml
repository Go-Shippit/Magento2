<?xml version="1.0"?>
<!--
/**
 * Shippit Pty Ltd
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the terms
 * that is available through the world-wide-web at this URL:
 * http://www.shippit.com/terms
 *
 * @category   Shippit
 * @copyright  Copyright (c) 2016 by Shippit Pty Ltd (http://www.shippit.com)
 * @author     Matthew Muscat <matthew@mamis.com.au>
 * @license    http://www.shippit.com/terms
 */
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:ObjectManager/etc/config.xsd">
    <preference for="Shippit\Shipping\Api\Data\SyncOrderInterface" type="Shippit\Shipping\Model\Sync\Order" />
    <preference for="Shippit\Shipping\Api\Request\OrderInterface" type="Shippit\Shipping\Model\Request\Order" />
    <preference for="Shippit\Shipping\Api\Request\QuoteInterface" type="Shippit\Shipping\Model\Request\Quote" />
    <preference for="Shippit\Shipping\Api\Request\ShipmentInterface" type="Shippit\Shipping\Model\Request\Shipment" />

    <type name="Magento\Framework\App\RouterList">
        <arguments>
            <argument name="routerList" xsi:type="array">
                <item name="shippitshipping" xsi:type="array">
                    <item name="class" xsi:type="string">Shippit\Shipping\Controller\Router</item>
                    <item name="disable" xsi:type="boolean">false</item>
                    <item name="sortOrder" xsi:type="string">20</item>
                </item>
            </argument>
        </arguments>
    </type>

    <type name="Magento\Framework\Console\CommandList">
        <arguments>
            <argument name="commands" xsi:type="array">
                <item name="shippitSyncOrders" xsi:type="object">Shippit\Shipping\Console\Command\SyncOrdersCommand</item>
            </argument>
        </arguments>
    </type>

    <type name="Shippit\Shipping\Logger\Handler">
        <arguments>
            <argument name="filesystem" xsi:type="object">Magento\Framework\Filesystem\Driver\File</argument>
        </arguments>
    </type>

    <type name="Shippit\Shipping\Logger\Logger">
        <arguments>
            <argument name="name" xsi:type="string">shippit_shipping</argument>
            <argument name="handlers"  xsi:type="array">
                <item name="system" xsi:type="object">Shippit\Shipping\Logger\Handler</item>
            </argument>
        </arguments>
    </type>
</config>